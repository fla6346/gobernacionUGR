<!--app-admin-dat></!--app-admin-dat-->
<div>
  <div class="cardPanel">
    <div class="form-container">
      <h4 class="center-align">Centro de Monitoreo e informacion para la gestion de riesgos</h4>
    </div>
  </div>
</div>
<div>
  <div class="cardPanel">
    <div class="form-container">
      <P><H3 class="center-align">Sistema de Datos</H3>
    </div>
  </div>

<div class="reborder1">
  <div class="cardPanel">
    <div class="form-container">
      <p><h3 class="center-align">Ingresa un Evento a la base de datos</h3>

      <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">

        <div class="form-group">
          <label for="tipo">Tipo</label>
          <input type="text" id="tipo" formControlName="tipo" class="form">
        </div>

        <div class="form-group">
          <label for="provincia">Provincia</label>
          <input type="text" id="provincia" formControlName="provincia"> <!-- Vincula al FormGroup -->
        </div>
        <div class="form-group">
          <label for="provincia">Municipio</label>
          <input type="text" id="municipio" formControlName="municipio"> <!-- Vincula al FormGroup -->
        </div>
        <div class="form-group">
          <label for="fechaIni">Fecha Inicio</label>
          <input type="date" id="fechaIni" formControlName="fechaIni"> <!-- Vincula al FormGroup -->
        </div>

        <div class="form-group">
          <label for="fechaFin">Fecha Finalización</label>
          <input type="date" id="fechaFin" formControlName="fechaFin"> <!-- Vincula al FormGroup -->
        </div>

        <div class="form-group">
          <label for="hora">Hora</label>
          <input type="time" id="hora" formControlName="hora"> <!-- Cambia a type="time" y vincula al FormGroup -->
        </div>

        <div class="form-group">
          <label for="area">Área Afectada</label>
          <input type="text" id="area" formControlName="area"> <!-- Vincula al FormGroup -->
        </div>

        <div class="form-group">
          <label for="descripcion">Descripción</label>
          <textarea id="descripcion" formControlName="descripcion" rows="4"></textarea> <!-- Vincula al FormGroup -->
        </div>

        <button type="submit" class="submit-btn">Enviar</button>
      </form>

    </div>
  </div>
</div>
<div class="cardPanel">
  <div class="form-container">
    <h4 class="center-align">Lista de Eventos
      <ul>
        <!--div *ngIf="events.length > 0; else noEvents"-->
          <!--li *ngFor="let event of events">
            <h3>{{ event.nombreEvento }}</h3> <!-- Ajusta según la estructura de tu objeto -->
        <!--h3>{{ event.descripcion }}</!--h3> <!-- Ajusta según la estructura de tu objeto >
          </li-->
          <div class="panel-body">
            <table>
              <thead>
                <tr>
                  <th>Tipo</th>
                  <th>Provincia</th>
                  <th>Municipio</th>
                  <th>Fecha Ini</th>
                  <th>Fecha Fin</th>
                  <th>Hora</th>
                  <th>Descripción</th>
                  <th>Área Afectada</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngIf="events.length === 0">
                  <td colspan="9">No hay eventos disponibles.</td>
                </tr>
                <tr *ngFor="let event of events">
                  <td>{{ event.tipo }}</td>
                  <td>{{ event.provincia }}</td>
                  <td>{{ event.municipio }}</td>
                  <td>{{ event.fecha_inicio }}</td>
                  <td>{{ event.fecha_finalizacion}}</td>
                  <td>{{ event.hora }}</td>
                  <td>{{ event.descripcion }}</td>
                  <td>{{ event.area }}</td>
                  <td><button class="btn btn-blue" (click)="eliminar(event.idEvento)">Eliminar</button></td>
                </tr>
              </tbody>
            </table>
         </div>

      </ul>
      <ng-template #noEvents>
        <p>No hay eventos disponibles.</p>
      </ng-template>
    </h4>
  </div>
</div>
